<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.opentcs.map.mapper.LayerMapper">

    <select id="selectPageLayer" resultType="org.opentcs.map.domain.entity.Layer">
        SELECT * FROM layer
        <where>
            <if test="layer.plantModelId != null">AND plant_model_id = #{layer.plantModelId}</if>
            <if test="layer.layerGroupId != null">AND layer_group_id = #{layer.layerGroupId}</if>
            <if test="layer.name != null and layer.name != ''">AND name LIKE CONCAT('%', #{layer.name}, '%')</if>
            <if test="layer.visible != null">AND visible = #{layer.visible}</if>
        </where>
    </select>

</mapper>